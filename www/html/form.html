<!DOCTYPE html>
<html>
	<head>
		<title>Cutie webserv 😚 💖</title>
		<meta charset="UTF-8">
		<link href="form.css" rel="stylesheet">
	</head>
	<body bgcolor="#D6EFED">
		<h1>
			<center>Demande d'adoption de futurs compagnons de cage 💝</center>
		</h1>
		<div class="hamster">
			<img src="img/hamster_heart.jpg" width="800">
		</div>
		<div class="form_container">
			<legend>POST Request :</legend>
			<form action="form_accept" method="post" class="formulaire" enctype="multipart/form-data">
				<div class="formulaire">
					<label for="name">Entrez votre nom :</label>
					<input type="text" id="name" placeholder="Vincent" name="name"><br>
					<label for="hamster">Entrez le prenom de votre futur hamster :</label>
					<input type="text" id="hamster" placeholder="George Guy" name="hamster"><br>
					<label for="color">Veuillez selectionner la couleur de votre futur hamster :</label>
					<input type="color" id="color" name="color" value="#FAEE2F"><br>
				</div>
				<input id="submitBtn" type="submit" value="JE VEUX MON HAMSTER !" class="bouton"></input>
			</form>
			<legend>UPLOAD File :</legend>
			 <!-- <form action="/form_upload" method="post" class="formulaire" enctype="multipart/form-data"> -->
			<form id="form" class="formulaire" enctype="multipart/form-data"></form>
				<div class="formulaire">
					<label for="nude">Envoyez votre nude :</label>
					<input id="file" type="file" name="nude" ><br>
				</div>
				<button class="bouton" onclick="uploadData()">UPLOAD</button>
				<!-- <input type="submit" value="JE VEUX MON CASH !" class="bouton"></input> -->
			</form>
		</div>
		</div>
		<script>
			async function uploadData() {
				alert('The selected file will be uploaded');
				const form = document.getElementById("file");
				const formData = new FormData();
    			formData.append(file.name, form.files[0]);
				const response = await fetch(`/form_upload`, {
					method: 'POST',
					credentials: 'include',
					body: formData,
				})
				.then(response => {
					// window.location.href = "form_upload.html";
					for (const value of formData.values()) {
						console.log(value);
					}
					console.log("OK");
				})
			}
		</script>
	</body>
</html>

				<!-- <button class="submit-btn" type="submit">JE VEUX MON CASH !</button> -->
			<!-- <form action="form_upload" method="post" class="formulaire" enctype="multipart/form-data">
				<input type="submit" value="JE VEUX MON CASH !" class="bouton"></input> -->
			<!-- <form id="form" enctype="multipart/form-data"></form> -->
		<!-- <script src="form.js"></script> -->



				<!-- const form1 = document.getElementById("inputFile");
				form1.addEventListener("submit", (event) => {
					event.preventDefault();
					const data = new FormData(form1);
					fetch("/upload_file", {
						method: "post",
						body: data,
					})
					.then(response => {
						window.location.reload();
					})
				}); -->
				<!-- <input id="inputFile" type="submit" value="JE VEUX MON CASH !" class="bouton"></input> -->